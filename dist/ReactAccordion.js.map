{"version":3,"sources":["../src/ReactAccordion.js"],"names":["ReactAccordion","props","data","state","headerAttName","itemsAttName","_refi","makeHeaderRef","makeItemRef","Object","keys","map","k","index","header","items","isReactComponent","isOpened","height","headerRef","itemRef","h","handleToggle","bind","display","overflow","headerIndex","autoClapse","options","dataCopy","forEach","e","newData","assign","setState","propTypes","array","isRequired","object","string"],"mappings":"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","file":"ReactAccordion.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport Header from './lib/Header';\nimport ContentManager from './lib/ContentManager';\nimport { Motion, spring } from \"react-motion\";\n\nexport default class ReactAccordion extends Component {\n  static propTypes = {\n    data: PropTypes.array.isRequired,\n    options: PropTypes.object.isRequired,\n    headerAttName: PropTypes.string.isRequired,\n    itemsAttName: PropTypes.string.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    const { data } = this.props;\n    this.state = {\n      data\n    }\n  }\n\n  render() {\n    const { headerAttName, itemsAttName } = this.props;\n    const { data } = this.state;\n\n    let _refi = 0;\n    let makeHeaderRef = () => {\n      return `ListHeader-${_refi}`;\n    };\n\n    let makeItemRef = () => {\n      return `ListItem-${_refi}`;\n    };\n\n    return (\n      <div ref=\"listview\" className=\"react-accordion_outerDiv\">\n        <ul className=\"react-accordion_ul\">\n        {\n          Object.keys(data).map((k, index) => {\n          const header = data[k][headerAttName];\n          const items  = data[k][itemsAttName];\n          const { isReactComponent } = data[k];\n          const { isOpened } = data[k];\n          const { height } = data[k];\n          _refi++;\n          const headerRef = makeHeaderRef();\n          const itemRef = makeItemRef();\n\n          return (\n            <Motion\n              key={index}\n              defaultStyle={{h: 0}}\n              style={{h: spring(isOpened ? height : 0)}}>\n              {\n                ({h}) => (\n                  <div>\n                    <li>\n                      <Header\n                        ref={headerRef}\n                        header={header}\n                        headerIndex={index}\n                        className=\"react-accordion_listHeader\"\n                        handleToggle={this.handleToggle.bind(this, index)}\n                      />\n                      <div\n                        style={{\n                          display: `block`,\n                          overflow: `hidden`,\n                          height:`${h}`\n                          }}>\n                        <ContentManager\n                         ref={itemRef}\n                         items={items}\n                         isReactComponent={isReactComponent}\n                         className=\"react-accordion_listItems\"\n                        />\n                      </div>\n                    </li>\n                  </div>\n                )\n              }\n            </Motion>\n          );\n          })\n        }\n        </ul>\n      </div>\n    );\n  }\n\n  handleToggle(headerIndex) {\n    let { data } = this.state;\n    const { options: { autoClapse } } = this.props;\n    let dataCopy = data;\n\n    if(autoClapse) {\n      dataCopy.forEach((e, index) => {\n        if(index != headerIndex) {\n          e.isOpened = false;\n        }\n      });\n    }\n\n    dataCopy[headerIndex].isOpened = !dataCopy[headerIndex].isOpened;\n    const newData = Object.assign({}, dataCopy);\n\n    this.setState(\n      newData\n    )\n  }\n}\n"]}